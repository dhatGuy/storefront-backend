# API Requirements

The company stakeholders want to create an online storefront to showcase their great product ideas. Users need to be able to browse an index of all products, see the specifics of a single product, and add products to an order that they can view in a cart page. You have been tasked with building the API that will support this application, and your coworker is building the frontend.

## API Endpoints

### Users Endpoint

| Endpoint            | Verb | Auth? | Description             |
| ------------------- | ---- | :---: | ----------------------- |
| /users/             | POST |  ❌   | Create a new user       |
| /users/             | GET  |  ✔️   | Get all users           |
| /users/authenticate | POST |  ❌   | Authenticate a user     |
| /users/:id          | GET  |  ✔️   | Get a single user by id |

### Products Endpoint

| Endpoint                     | Verb   | Auth? | Description                  |
| ---------------------------- | ------ | :---: | ---------------------------- |
| /products/                   | GET    |  ❌   | Get all products             |
| /products/                   | POST   |  ✔️   | Create a new product         |
| /products/:id                | GET    |  ❌   | Get a single product by id   |
| /products/:id                | PUT    |  ✔️   | Update a product             |
| /products/:id                | DELETE |  ✔️   | Delete a product             |
| /products/category/:category | GET    |  ❌   | Get all products by category |

### Orders Endpoint

| Endpoint             | Verb   | Auth? | Description                  |
| -------------------- | ------ | :---: | ---------------------------- |
| /orders/             | GET    |  ✔️   | Get all orders               |
| /orders/             | POST   |  ✔️   | Create a new order           |
| /orders/current      | GET    |  ✔️   | Get current order            |
| /orders/complete     | GET    |  ✔️   | Get completed orders         |
| /orders/:id          | GET    |  ✔️   | Get a single order by id     |
| /orders/:id          | PUT    |  ✔️   | Update an order              |
| /orders/:id          | DELETE |  ✔️   | Delete an order              |
| /orders/:id/products | POST   |  ✔️   | Add a product to an order    |
| /orders/:id/products | GET    |  ✔️   | Get all products in an order |

### Dashboard Endpoint

| Endpoint                    | Verb | Auth? | Description                     |
| --------------------------- | ---- | :---: | ------------------------------- |
| /dashboard/top-five-popular | GET  |  ✔️   | Get top 5 most popular products |

## Models

### User

| Field Name | Data Type | Metadata                                            |
| ---------- | --------- | --------------------------------------------------- |
| id         | Integer   | primary key, auto-increments, generated by database |
| username   | String    | required, unique                                    |
| password   | String    | required                                            |
| first_name | String    | required                                            |
| last_name  | String    | required                                            |

### Product

| Field Name | Data Type | Metadata                                            |
| ---------- | --------- | --------------------------------------------------- |
| id         | Integer   | primary key, auto-increments, generated by database |
| name       | String    | required                                            |
| price      | Float     | required                                            |
| category   | String    | required                                            |

### Order

| Field Name | Data Type | Metadata                                            |
| ---------- | --------- | --------------------------------------------------- |
| id         | Integer   | primary key, auto-increments, generated by database |
| user_id    | Integer   | required, references the id in the users table      |
| status     | String    | required, defaults to "active"                      |

### Order_Product

| Field Name | Data Type | Metadata                                            |
| ---------- | --------- | --------------------------------------------------- |
| id         | Integer   | primary key, auto-increments, generated by database |
| order_id   | Integer   | required, references the id in the orders table     |
| product_id | Integer   | required, references the id in the products table   |
| quantity   | Integer   | required                                            |
